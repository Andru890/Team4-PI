import{memo as e,useMemo as o,useState as i,useCallback as t,createElement as n,Fragment as r,forwardRef as a,useRef as l,useEffect as s}from"react";import{useTheme as c,curveFromProp as u,useValueFormatter as d,useMotionConfig as h,useAnimatedPath as f,getLabelGenerator as v,DotsItem as p,withContainer as m,useDimensions as g,CartesianMarkers as y,bindDefs as x,SvgWrapper as b,ResponsiveWrapper as S,getRelativeCursor as M,isCursorInRect as C}from"@nivo/core";import{useOrdinalColorScale as w,useInheritedColor as T}from"@nivo/colors";import{Grid as k,Axes as B,renderGridLinesToCanvas as W,renderAxesToCanvas as E}from"@nivo/axes";import{BoxLegendSvg as L,renderLegendToCanvas as G}from"@nivo/legends";import{BasicTooltip as P,TableTooltip as F,Chip as O,useTooltip as V,Crosshair as Y}from"@nivo/tooltip";import{line as R,area as I}from"d3-shape";import{computeXYScalesForSeries as A}from"@nivo/scales";import H from"lodash/uniqueId";import{jsx as X,jsxs as z}from"react/jsx-runtime";import{useSpring as j,animated as D}from"@react-spring/web";import{Mesh as q,useVoronoiMesh as J,renderVoronoiToCanvas as K,renderVoronoiCellToCanvas as N}from"@nivo/voronoi";function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},Q.apply(this,arguments)}var U=e((function(e){var o=e.point;return X(P,{id:z("span",{children:["x: ",X("strong",{children:o.data.xFormatted}),", y:"," ",X("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.serieColor})})),Z=e((function(e){var o=e.slice,i=e.axis,t=c(),n="x"===i?"y":"x";return X(F,{rows:o.points.map((function(e){return[X(O,{color:e.serieColor,style:t.tooltip.chip},"chip"),e.serieId,X("span",{style:t.tooltip.tableCellValue,children:e.data[n+"Formatted"]},"value")]}))})})),$={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:U,enableSlices:!1,debugSlices:!1,sliceTooltip:Z,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},_=Q({},$,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),ee=Q({},$,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),oe=function(e){var i=e.curve;return o((function(){return R().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(u(i))}),[i])},ie=function(e){var i=e.curve,t=e.yScale,n=e.areaBaselineValue;return o((function(){return I().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(u(i)).y0(t(n))}),[i,t,n])},te=function(e){var i=e.componentId,t=e.enableSlices,n=e.points,r=e.width,a=e.height;return o((function(){if(!1===t)return[];if("x"===t){var e=new Map;return n.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,t){var n,l,s=e[0],c=e[1],u=t[o-1],d=t[o+1];return n=u?s-(s-u[0])/2:s,l=d?s-n+(d[0]-s)/2:r-n,{id:"slice:"+i+":"+s,x0:n,x:s,y0:0,y:0,width:l,height:a,points:c.reverse()}}))}if("y"===t){var o=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var t,n,l=e[0],s=e[1],c=i[o-1],u=i[o+1];return t=c?l-(l-c[0])/2:l,n=u?l-t+(u[0]-l)/2:a-t,{id:l,x0:0,x:0,y0:t,y:l,width:r,height:n,points:s.reverse()}}))}}),[i,t,a,n,r])},ne="line",re=function(e){var n=e.data,r=e.xScale,a=void 0===r?_.xScale:r,l=e.xFormat,s=e.yScale,u=void 0===s?_.yScale:s,h=e.yFormat,f=e.width,v=e.height,p=e.colors,m=void 0===p?_.colors:p,g=e.curve,y=void 0===g?_.curve:g,x=e.areaBaselineValue,b=void 0===x?_.areaBaselineValue:x,S=e.pointColor,M=void 0===S?_.pointColor:S,C=e.pointBorderColor,k=void 0===C?_.pointBorderColor:C,B=e.enableSlices,W=void 0===B?_.enableSlicesTooltip:B,E=i(H(ne))[0],L=d(l),G=d(h),P=w(m,"id"),F=c(),O=T(M,F),V=T(k,F),Y=i([]),R=Y[0],I=Y[1],X=o((function(){return A(n.filter((function(e){return-1===R.indexOf(e.id)})),a,u,f,v)}),[n,R,a,u,f,v]),z=X.xScale,j=X.yScale,D=X.series,q=o((function(){var e=n.map((function(e){return{id:e.id,label:e.id,color:P(e)}})),o=e.map((function(e){return Q({},D.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return Q({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[n,D,P]),J=q.legendData,K=q.series,N=t((function(e){I((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),U=function(e){var i=e.series,t=e.getPointColor,n=e.getPointBorderColor,r=e.formatX,a=e.formatY;return o((function(){return i.reduce((function(e,o){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(i,l){var s={id:o.id+"."+l,index:e.length+l,serieId:o.id,serieColor:o.color,x:i.position.x,y:i.position.y};return s.color=t(o),s.borderColor=n(s),s.data=Q({},i.data,{xFormatted:r(i.data.x),yFormatted:a(i.data.y)}),s})))}),[])}),[i,t,n,r,a])}({series:K,getPointColor:O,getPointBorderColor:V,formatX:L,formatY:G}),Z=te({componentId:E,enableSlices:W,points:U,width:f,height:v});return{legendData:J,toggleSerie:N,lineGenerator:oe({curve:y}),areaGenerator:ie({curve:y,yScale:j,areaBaselineValue:b}),getColor:P,series:K,xScale:z,yScale:j,slices:Z,points:U}},ae=function(e){var o=e.areaBlendMode,i=e.areaOpacity,t=e.color,n=e.fill,r=e.path,a=h(),l=a.animate,s=a.config,c=f(r),u=j({color:t,config:s,immediate:!l});return X(D.path,{d:c,fill:n||u.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:o}})},le=e((function(e){var o=e.areaGenerator,i=e.areaOpacity,t=e.areaBlendMode,n=e.lines.slice(0).reverse();return X("g",{children:n.map((function(e){return X(ae,Q({path:o(e.data.map((function(e){return e.position})))},Q({areaOpacity:i,areaBlendMode:t},e)),e.id)}))})})),se=e((function(e){var i=e.lineGenerator,t=e.points,n=e.color,r=e.thickness,a=o((function(){return i(t)}),[i,t]),l=f(a);return X(D.path,{d:l,fill:"none",strokeWidth:r,stroke:n})})),ce=e((function(e){var o=e.lines,i=e.lineGenerator,t=e.lineWidth;return o.slice(0).reverse().map((function(e){var o=e.id,n=e.data,r=e.color;return X(se,{id:o,points:n.map((function(e){return e.position})),lineGenerator:i,color:r,thickness:t},o)}))})),ue=e((function(e){var o=e.slice,i=e.slices,r=e.axis,a=e.debug,l=e.tooltip,s=e.isCurrent,c=e.setCurrent,u=e.onMouseEnter,d=e.onMouseMove,h=e.onMouseLeave,f=e.onClick,v=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd,g=V(),y=g.showTooltipFromEvent,x=g.hideTooltip,b=t((function(e){y(n(l,{slice:o,axis:r}),e,"right"),c(o),u&&u(o,e)}),[y,l,o,r,c,u]),S=t((function(e){y(n(l,{slice:o,axis:r}),e,"right"),d&&d(o,e)}),[y,l,o,r,d]),M=t((function(e){x(),c(null),h&&h(o,e)}),[x,c,h,o]),C=t((function(e){f&&f(o,e)}),[o,f]),w=t((function(e){y(n(l,{slice:o,axis:r}),e,"right"),c(o),v&&v(o,e)}),[r,v,c,y,o,l]),T=t((function(e){var t=e.touches[0],a=document.elementFromPoint(t.clientX,t.clientY),s=null==a?void 0:a.getAttribute("data-ref");if(s){var u=i.find((function(e){return e.id===s}));u&&(y(n(l,{slice:u,axis:r}),e,"right"),c(u))}p&&p(o,e)}),[r,p,c,y,o,i,l]),k=t((function(e){x(),c(null),m&&m(o,e)}),[x,c,m,o]);return X("rect",{x:o.x0,y:o.y0,width:o.width,height:o.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:b,onMouseMove:S,onMouseLeave:M,onClick:C,onTouchStart:w,onTouchMove:T,onTouchEnd:k,"data-ref":o.id})})),de=e((function(e){var o=e.slices,i=e.axis,t=e.debug,n=e.height,r=e.tooltip,a=e.current,l=e.setCurrent,s=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,d=e.onClick,h=e.onTouchStart,f=e.onTouchMove,v=e.onTouchEnd;return o.map((function(e){return X(ue,{slice:e,slices:o,axis:i,debug:t,height:n,tooltip:r,setCurrent:l,isCurrent:null!==a&&a.id===e.id,onMouseEnter:s,onMouseMove:c,onMouseLeave:u,onClick:d,onTouchStart:h,onTouchMove:f,onTouchEnd:v},e.id)}))})),he=e((function(e){var o=e.points,i=e.symbol,t=e.size,n=e.borderWidth,r=e.enableLabel,a=e.label,l=e.labelYOffset,s=c(),u=v(a),d=o.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:r?u(e):null}}));return X("g",{children:d.map((function(e){return X(p,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:t,color:e.fill,borderWidth:n,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:s},e.id)}))})})),fe=e((function(e){var o=e.points,i=e.width,r=e.height,a=e.margin,l=e.setCurrent,s=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,d=e.onClick,h=e.onTouchStart,f=e.onTouchMove,v=e.onTouchEnd,p=e.tooltip,m=e.debug,g=e.enableTouchCrosshair,y=V(),x=y.showTooltipAt,b=y.hideTooltip,S=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),s&&s(e,o)}),[x,p,s,a]),M=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),c&&c(e,o)}),[x,p,a.left,a.top,c]),C=t((function(e,o){b(),u&&u(e,o)}),[b,u]),w=t((function(e,o){d&&d(e,o)}),[d]),T=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),h&&h(e,o)}),[a.left,a.top,h,x,p]),k=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),f&&f(e,o)}),[a.left,a.top,f,x,p]),B=t((function(e,o){b(),v&&v(e,o)}),[v,b]);return X(q,{nodes:o,width:i,height:r,setCurrent:l,onMouseEnter:S,onMouseMove:M,onMouseLeave:C,onClick:w,onTouchStart:T,onTouchMove:k,onTouchEnd:B,enableTouchCrosshair:g,debug:m})})),ve=m((function(e){var o=e.data,t=e.xScale,n=void 0===t?{type:"point"}:t,a=e.xFormat,l=e.yScale,s=void 0===l?{type:"linear",min:0,max:"auto"}:l,u=e.yFormat,d=e.layers,h=void 0===d?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:d,f=e.curve,v=void 0===f?"linear":f,p=e.areaBaselineValue,m=void 0===p?0:p,S=e.colors,M=void 0===S?{scheme:"nivo"}:S,C=e.margin,w=e.width,W=e.height,E=e.axisTop,G=e.axisRight,P=e.axisBottom,F=void 0===P?{}:P,O=e.axisLeft,V=void 0===O?{}:O,R=e.enableGridX,I=void 0===R||R,A=e.enableGridY,H=void 0===A||A,z=e.gridXValues,j=e.gridYValues,D=e.lineWidth,q=void 0===D?2:D,J=e.enableArea,K=void 0!==J&&J,N=e.areaOpacity,$=void 0===N?.2:N,_=e.areaBlendMode,ee=void 0===_?"normal":_,oe=e.enablePoints,ie=void 0===oe||oe,te=e.pointSymbol,ne=e.pointSize,ae=void 0===ne?6:ne,se=e.pointColor,ue=void 0===se?{from:"color"}:se,ve=e.pointBorderWidth,pe=void 0===ve?0:ve,me=e.pointBorderColor,ge=void 0===me?{theme:"background"}:me,ye=e.enablePointLabel,xe=void 0!==ye&&ye,be=e.pointLabel,Se=void 0===be?"data.yFormatted":be,Me=e.pointLabelYOffset,Ce=e.defs,we=void 0===Ce?[]:Ce,Te=e.fill,ke=void 0===Te?[]:Te,Be=e.markers,We=e.legends,Ee=void 0===We?[]:We,Le=e.isInteractive,Ge=void 0===Le||Le,Pe=e.useMesh,Fe=void 0!==Pe&&Pe,Oe=e.debugMesh,Ve=void 0!==Oe&&Oe,Ye=e.onMouseEnter,Re=e.onMouseMove,Ie=e.onMouseLeave,Ae=e.onClick,He=e.onTouchStart,Xe=e.onTouchMove,ze=e.onTouchEnd,je=e.tooltip,De=void 0===je?U:je,qe=e.enableSlices,Je=void 0!==qe&&qe,Ke=e.debugSlices,Ne=void 0!==Ke&&Ke,Qe=e.sliceTooltip,Ue=void 0===Qe?Z:Qe,Ze=e.enableCrosshair,$e=void 0===Ze||Ze,_e=e.crosshairType,eo=void 0===_e?"bottom-left":_e,oo=e.enableTouchCrosshair,io=void 0!==oo&&oo,to=e.role,no=void 0===to?"img":to,ro=g(w,W,C),ao=ro.margin,lo=ro.innerWidth,so=ro.innerHeight,co=ro.outerWidth,uo=ro.outerHeight,ho=re({data:o,xScale:n,xFormat:a,yScale:s,yFormat:u,width:lo,height:so,colors:M,curve:v,areaBaselineValue:m,pointColor:ue,pointBorderColor:ge,enableSlices:Je}),fo=ho.legendData,vo=ho.toggleSerie,po=ho.lineGenerator,mo=ho.areaGenerator,go=ho.series,yo=ho.xScale,xo=ho.yScale,bo=ho.slices,So=ho.points,Mo=c(),Co=T(ue,Mo),wo=T(ge,Mo),To=i(null),ko=To[0],Bo=To[1],Wo=i(null),Eo=Wo[0],Lo=Wo[1],Go={grid:X(k,{theme:Mo,width:lo,height:so,xScale:I?yo:null,yScale:H?xo:null,xValues:z,yValues:j},"grid"),markers:X(y,{markers:Be,width:lo,height:so,xScale:yo,yScale:xo,theme:Mo},"markers"),axes:X(B,{xScale:yo,yScale:xo,width:lo,height:so,theme:Mo,top:E,right:G,bottom:F,left:V},"axes"),areas:null,lines:X(ce,{lines:go,lineGenerator:po,lineWidth:q},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Ee.map((function(e,o){return X(L,Q({},e,{containerWidth:lo,containerHeight:so,data:e.data||fo,theme:Mo,toggleSerie:e.toggleSerie?vo:void 0}),"legend."+o)}))},Po=x(we,go,ke);return K&&(Go.areas=X(le,{areaGenerator:mo,areaOpacity:$,areaBlendMode:ee,lines:go},"areas")),Ge&&!1!==Je&&(Go.slices=X(de,{slices:bo,axis:Je,debug:Ne,height:so,tooltip:Ue,current:Eo,setCurrent:Lo,onMouseEnter:Ye,onMouseMove:Re,onMouseLeave:Ie,onClick:Ae,onTouchStart:He,onTouchMove:Xe,onTouchEnd:ze},"slices")),ie&&(Go.points=X(he,{points:So,symbol:te,size:ae,color:Co,borderWidth:pe,borderColor:wo,enableLabel:xe,label:Se,labelYOffset:Me},"points")),Ge&&$e&&(null!==ko&&(Go.crosshair=X(Y,{width:lo,height:so,x:ko.x,y:ko.y,type:eo},"crosshair")),null!==Eo&&(Go.crosshair=X(Y,{width:lo,height:so,x:Eo.x,y:Eo.y,type:Je},"crosshair"))),Ge&&Fe&&!1===Je&&(Go.mesh=X(fe,{points:So,width:lo,height:so,margin:ao,current:ko,setCurrent:Bo,onMouseEnter:Ye,onMouseMove:Re,onMouseLeave:Ie,onClick:Ae,onTouchStart:He,onTouchMove:Xe,onTouchEnd:ze,tooltip:De,enableTouchCrosshair:io,debug:Ve},"mesh")),X(b,{defs:Po,width:co,height:uo,margin:ao,role:no,children:h.map((function(o,i){return"function"==typeof o?X(r,{children:o(Q({},e,{innerWidth:lo,innerHeight:so,series:go,slices:bo,points:So,xScale:yo,yScale:xo,lineGenerator:po,areaGenerator:mo,currentPoint:ko,setCurrentPoint:Bo,currentSlice:Eo,setCurrentSlice:Lo}))},i):Go[o]}))})})),pe=function(e){return X(S,{children:function(o){var i=o.width,t=o.height;return X(ve,Q({width:i,height:t},e))}})},me=m((function(e){var o=l(null),r=e.width,a=e.height,u=e.margin,d=e.pixelRatio,h=void 0===d?"undefined"!=typeof window&&window.devicePixelRatio||1:d,f=e.data,v=e.xScale,p=void 0===v?{type:"point"}:v,m=e.xFormat,y=e.yScale,x=void 0===y?{type:"linear",min:0,max:"auto"}:y,b=e.yFormat,S=e.curve,w=void 0===S?"linear":S,T=e.layers,k=void 0===T?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:T,B=e.colors,L=void 0===B?{scheme:"nivo"}:B,P=e.lineWidth,F=void 0===P?2:P,O=e.enableArea,Y=void 0!==O&&O,R=e.areaBaselineValue,I=void 0===R?0:R,A=e.areaOpacity,H=void 0===A?.2:A,z=e.enablePoints,j=void 0===z||z,D=e.pointSize,q=void 0===D?6:D,Z=e.pointColor,$=void 0===Z?{from:"color"}:Z,_=e.pointBorderWidth,ee=void 0===_?0:_,oe=e.pointBorderColor,ie=void 0===oe?{theme:"background"}:oe,te=e.enableGridX,ne=void 0===te||te,ae=e.gridXValues,le=e.enableGridY,se=void 0===le||le,ce=e.gridYValues,ue=e.axisTop,de=e.axisRight,he=e.axisBottom,fe=void 0===he?{}:he,ve=e.axisLeft,pe=void 0===ve?{}:ve,me=e.legends,ge=void 0===me?[]:me,ye=e.isInteractive,xe=void 0===ye||ye,be=e.debugMesh,Se=void 0!==be&&be,Me=e.onMouseLeave,Ce=e.onClick,we=e.tooltip,Te=void 0===we?U:we,ke=e.canvasRef,Be=g(r,a,u),We=Be.margin,Ee=Be.innerWidth,Le=Be.innerHeight,Ge=Be.outerWidth,Pe=Be.outerHeight,Fe=c(),Oe=i(null),Ve=Oe[0],Ye=Oe[1],Re=re({data:f,xScale:p,xFormat:m,yScale:x,yFormat:b,width:Ee,height:Le,colors:L,curve:w,areaBaselineValue:I,pointColor:$,pointBorderColor:ie}),Ie=Re.lineGenerator,Ae=Re.areaGenerator,He=Re.series,Xe=Re.xScale,ze=Re.yScale,je=Re.points,De=J({points:je,width:Ee,height:Le,debug:Se}),qe=De.delaunay,Je=De.voronoi;s((function(){ke&&(ke.current=o.current),o.current.width=Ge*h,o.current.height=Pe*h;var e=o.current.getContext("2d");e.scale(h,h),e.fillStyle=Fe.background,e.fillRect(0,0,Ge,Pe),e.translate(We.left,We.top),k.forEach((function(o){if("function"==typeof o&&o({ctx:e,innerWidth:Ee,innerHeight:Le,series:He,points:je,xScale:Xe,yScale:ze,lineWidth:F,lineGenerator:Ie,areaGenerator:Ae,currentPoint:Ve,setCurrentPoint:Ye}),"grid"===o&&Fe.grid.line.strokeWidth>0&&(e.lineWidth=Fe.grid.line.strokeWidth,e.strokeStyle=Fe.grid.line.stroke,ne&&W(e,{width:Ee,height:Le,scale:Xe,axis:"x",values:ae}),se&&W(e,{width:Ee,height:Le,scale:ze,axis:"y",values:ce})),"axes"===o&&E(e,{xScale:Xe,yScale:ze,width:Ee,height:Le,top:ue,right:de,bottom:fe,left:pe,theme:Fe}),"areas"===o&&!0===Y){e.save(),e.globalAlpha=H,Ae.context(e);for(var i=He.length-1;i>=0;i--)e.fillStyle=He[i].color,e.beginPath(),Ae(He[i].data.map((function(e){return e.position}))),e.fill();e.restore()}if("lines"===o&&(Ie.context(e),He.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=F,e.beginPath(),Ie(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===j&&q>0&&je.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,q/2,0,2*Math.PI),e.fill(),ee>0&&(e.strokeStyle=o.borderColor,e.lineWidth=ee,e.stroke())})),"mesh"===o&&!0===Se&&(K(e,Je),Ve&&N(e,Je,Ve.index)),"legends"===o){var t=He.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();ge.forEach((function(o){G(e,Q({},o,{data:o.data||t,containerWidth:Ee,containerHeight:Le,theme:Fe}))}))}}))}),[o,Ge,Pe,k,Fe,Ie,He,Xe,ze,ne,ae,se,ce,ue,de,fe,pe,ge,je,j,q,Ve]);var Ke=t((function(e){var i=M(o.current,e),t=i[0],n=i[1];if(!C(We.left,We.top,Ee,Le,t,n))return null;var r=qe.find(t-We.left,n-We.top);return je[r]}),[o,We,Ee,Le,qe]),Ne=V(),Qe=Ne.showTooltipFromEvent,Ue=Ne.hideTooltip,Ze=t((function(e){var o=Ke(e);Ye(o),o?Qe(n(Te,{point:o}),e):Ue()}),[Ke,Ye,Qe,Ue,Te]),$e=t((function(e){Ue(),Ye(null),Ve&&Me&&Me(Ve,e)}),[Ue,Ye,Me]),_e=t((function(e){if(Ce){var o=Ke(e);o&&Ce(o,e)}}),[Ke,Ce]);return X("canvas",{ref:o,width:Ge*h,height:Pe*h,style:{width:Ge,height:Pe,cursor:xe?"auto":"normal"},onMouseEnter:xe?Ze:void 0,onMouseMove:xe?Ze:void 0,onMouseLeave:xe?$e:void 0,onClick:xe?_e:void 0})})),ge=a((function(e,o){return X(me,Q({},e,{canvasRef:o}))})),ye=a((function(e,o){return X(S,{children:function(i){var t=i.width,n=i.height;return X(ge,Q({width:t,height:n},e,{ref:o}))}})}));export{ne as LINE_UNIQUE_ID_PREFIX,ve as Line,ge as LineCanvas,ee as LineCanvasDefaultProps,_ as LineDefaultProps,pe as ResponsiveLine,ye as ResponsiveLineCanvas,ie as useAreaGenerator,re as useLine,oe as useLineGenerator,te as useSlices};
//# sourceMappingURL=nivo-line.es.js.map
